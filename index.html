<html>
	<body>
		<h1>OpenShift File Upload Demonstration</h1>
		<form action="upload.php" method="post" enctype="multipart/form-data">
			<p>Select a file to upload*:</p>
			<input type="file" name="fto" id="fto">
			<input type="submit" value="Upload" name="submit">
		</form>

		<p><em>*</em>The maximum size file allowed is 20480KB (20MB)</p>
		<?php
/* Display all file except core application files */
$datadir = /opt/app-root/src/uploaded
if ($handle = opendir($datadir)) {
   while (false !== ($file = readdir($handle))) {
          /* This is to exclude files from being shown on the screen - probably a better way of doing this */
          if ($file != "." && $file != ".." && $file != "index.php" && $file != "OpenStack.php" && $file != "README.md" && $file != "upload.php" && $file != ".openshift" && $file != ".vimrc" && $file != ".bash_profile" && $file != ".bash_history" && $file != "config.php" && $file != "ufo.php") {
            $thelist .= '<li><a href="'.$file.'">'.$file.'</a></li>';
            /* $thelist .= '<li><a href="'. $datadir . $file . '">'.$file.'</a></li>'; */
          }
       }
  closedir($handle);
  }
echo "<h4>List of files:</h4>";
echo "<ul>" . $thelist . "</ul>";
?>
	</body>


</html>
